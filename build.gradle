group 'de.mpicbg.scicomp'
version '0.5-SNAPSHOT'

apply plugin: 'java'
apply plugin: 'kotlin'
apply plugin: 'maven'


dependencies {
    compile "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"
    compile "org.apache.commons:commons-csv:1.3"

    testCompile group: 'junit', name: 'junit', version: '4.11'
    testCompile "io.kotlintest:kotlintest:1.1.6"
}

repositories {
    mavenCentral()
}

buildscript {
    ext.kotlin_version = '1.1.1'
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
    }
}

// http://stackoverflow.com/questions/11474729/how-to-build-sources-jar-with-gradle
task sourcesJar(type: org.gradle.api.tasks.bundling.Jar, dependsOn: classes) {
    classifier = 'sources'
    from sourceSets.main.allSource
}

artifacts {
    archives sourcesJar
}

// https://docs.gradle.org/current/userguide/maven_plugin.html
uploadArchives {
    repositories {
        mavenDeployer {
//            pom.groupId = 'de.mpicbg.scicomp.bioinfo'
//            pom.version = '0.1-SNAPSHOT'
            pom.artifactId = 'krangl'

            repository(url: "file://localhost/tmp/myRepo/")
        }
    }
}
